<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linguagens Formais</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script type="module" src="./js/token-service.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body data-bs-theme="dark" onload="showAllTokens()">
    <script type="module">
        import { showAllTokens, saveToken, deleteToken, selectToken } from './js/token-service.js';
        import { mainInputKeypressHandler, tokenInputKeypressHandler } from './js/handlers.js';

        window.showAllTokens = showAllTokens;
        window.saveToken = saveToken;
        window.deleteToken = deleteToken;
        window.selectToken = selectToken;

        const mainInput = document.getElementById("input-main");
        const tokenInput = document.getElementById("input-token");

        mainInput.addEventListener('keypress', mainInputKeypressHandler);
        tokenInput.addEventListener('keypress', tokenInputKeypressHandler);
    </script>
    <div style="height: 50px;"></div>
    <div class="container text-center">
        <div class="row" style="height: 60vh;">
            <div class="col-7" style="display: flex; flex-direction: column; height: 100%;">
                <div class="row text-start">
                    <h2>Console</h2>
                </div>
                <div style="height: 15px;"></div>
                <div class="row console-wrapper">
                    <div class="console"></div>
                </div>
            </div>
            <div class="col-5" style="height: 100%;">
                <div class="container tokens">
                    <div class="row text-start">
                        <h2>Tokens</h2>
                    </div>
                    <div style="height: 15px;"></div>
                    <div class="row" style="padding: 0;">
                        <div class="col-9">
                            <input id="input-token" class="form-control" type="text">
                        </div>
                        <div class="col-3" style="display: flex; padding: 0; justify-content: flex-end;">
                            <button style="margin-right: 5px;" type="button" class="btn btn-success"
                                onclick="saveToken()"><i class="bi bi-floppy"></i></button>
                            <button style="margin-left: 5px;" type="button" class="btn btn-danger"
                                onclick="deleteToken()"><i class="bi bi-trash"></i></button>
                        </div>
                    </div>
                    <div style="height: 15px;"></div>
                    <div class="scrollable-table">
                        <table id="table" class="table table-hover">
                            <thead id="table-head">
                                <tr>
                                    <th scope="col">#</th>
                                    <th>Token</th>
                                </tr>
                            </thead>
                            <tbody id="table-body"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div style="height: 30px;"></div>
        <div class="row">
            <div class="col" style="padding: 0;">
                <input id="input-main" class="form-control form-control-lg" type="text">
            </div>
        </div>
    </div>
</body>

</html>